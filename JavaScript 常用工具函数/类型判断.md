# 类型判断

判断是 null，undefined，boolean，string，number，object（function，array，date，error，regExp）等

## typeof

引用《JavaScript 权威指南》中对 typeof 的介绍：

> typeof 是一元操作符，放在其单个操作数的前面，操作数可以是任意类型。返回值为表示操作数类型的一个字符串。

```javascript
console.log(typeof null); // object
console.log(typeof underfined); // undefined
console.log(typeof true); // boolean
console.log(typeof '123'); // string
console.log(typeof 123); // number
console.log(typeof { a: 1 }); // object
console.log(typeof function func() {}); // function
console.log(typeof [1, 2, 3]); // object
console.log(typeof new Date()); // object
```

很明显，typeof 只检测出 underfined、boolean、string、number、function 和 object。object 下的子类型如 array，date，error，regExp 等无法识别。

## Object.prototype.toString

```javascript
const nul = null; // [object Null]
const und = undefined; // [object Undefined]
const number = 1; // [object Number]
const string = '123'; // [object String]
const boolean = true; // [object Boolean]
const obj = { a: 1 }; // [object Object]
const array = [1, 2, 3]; // [object Array]
const date = new Date(); // [object Date]
const error = new Error(); // [object Error]
const reg = /a/g; // [object RegExp]
const func = function a() {}; // [object Function]

function checkType() {
  for (let i = 0; i < arguments.length; i++) {
    console.log(Object.prototype.toString.call(arguments[i]));
  }
}

checkType( number, string, boolean, und, nul, obj, array, date, error, reg, func );
```

## 实现 type API

```javascript
function type(item) {
  let result = typeof item;
  if (result === 'object') {
    result = Object.prototype.toString.call(item).slice(8, -1).toLowerCase();
  }
  return result;
}

console.log(type(null)); // null
console.log(type(undefined)); // undefined
console.log(type(1)); // number
console.log(type('123')); // string
console.log(type(true)); // boolean
console.log(type({ a: 1 })); // object
console.log(type([1, 2, 3])); // array
console.log(type(new Date())); // date
console.log(type(new Error())); // error
console.log(type(/a/g)); // regexp
console.log(type(function a() {})); // function
```
